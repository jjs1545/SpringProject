데이터베이스 version MySql 8.0.11

회원가입 테이블

CREATE TABLE member (
	no int PRIMARY KEY AUTO_INCREMENT,
	id varchar(128) NOT NULL,
	name varchar(20) NOT NULL,
	password varchar(20) NOT NULL,
	join_date datetime NOT NULL DEFAULT now()
);


방명록 테이블
CREATE TABLE guestbook (
	no int primary key auto_increment,
	name varchar(20) NOT NULL,
	password varchar(20) NOT NULL,
	content varchar(255) NOT NULL,
	regdate datetime NOT NULL DEFAULT now()
);

블로그 테이블
CREATE TABLE BLOG (
	no int primary key auto_increment NOT NULL,
	USERS_NO int,
	TITLE VARCHAR(100),
	LOGO VARCHAR(255) DEFAULT 'name.jpg',
	FOREIGN KEY(USERS_NO) REFERENCES member(no) 
	on delete cascade
);

카테고리 테이블
CREATE TABLE CATEGORY (
	no int primary key auto_increment NOT NULL,
	BLOG_NO int,
	NAME VARCHAR(30),
	POST_COUNT int DEFAULT 0,
	DESCRIPTION VARCHAR(20),
	REG_DATE datetime NOT NULL DEFAULT now(),
	FOREIGN KEY(BLOG_NO) REFERENCES BLOG(NO)
	on delete cascade
);

포스트 테이블
CREATE TABLE POST (
	no int primary key auto_increment NOT NULL,
	CATEGORY_NO int,
	TITLE VARCHAR(100),
	CONTENT VARCHAR(1500),
	REG_DATE datetime NOT NULL DEFAULT now(),
	FOREIGN KEY(CATEGORY_NO) REFERENCES CATEGORY(no)
	on delete cascade
);


코멘트 테이블
CREATE TABLE COMMENT(
	no int primary key auto_increment NOT NULL,
	POST_NO int,
	name VARCHAR(30),
	CONTENT VARCHAR(555),
	REG_DATE datetime NOT NULL DEFAULT now(),
	FOREIGN KEY(POST_NO) REFERENCES POST(no)
	on delete cascade
);


select * 
from category, post
where category

insert into comment (no, post_no, user_id, comment)
values(301, 17, (select count(*) from users where id='powerku')+2, '댓글 test입니다');

insert into category values(11, 1, "안녕", (select count(no) from post where category_no=1), "gd", now());


select c.no as no, c.name as name, c.description as description, p.title as title, p.content as content, p.reg_date as reg_date
from category c, post p
where c.no=p.category_no AND blog_no=1; 

3번 일때 --> 

SELECT *
			FROM post
			WHERE no = 4


			